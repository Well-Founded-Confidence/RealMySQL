# 8.1 디스크 읽기 방식

데이터베이스의 성능 튜닝은 어떻게 디스크 I/O를 줄이느냐가 관건일 때가 상당히 많다.

## 8.1.1 HDD와 SSD

SSD는 디스크 원판이 아닌 플래시 메모리를 장착하고 쓰고 있다.  
원판을 회전시킬 필요가 없기 때문에 아주 빨리 데이터를 읽고 쓸 수 있다.
플래시 메모리는 전원이 공급되지 않아도 데이터가 삭제되지 않는다.

그리고 검큐터의 메모리(D-Ram)보다는 느리지만 HDD 보다는 훨씬 빠르다.

요즘은 DBMS용으로 사용할 서버에는 대부분 SSD를 채택하고 있다.

디스크의 헤더를 움직이지 않고 한 번에 많은 데이터를 읽는 순차 I/O에서는 SSD가 하드 디스크 드라이브보다 조금 빠르거나 거의 비슷한 성능을 보이기도 한다.

하지만 SSD의 장점은 랜덤 I/O가 훨씬 빠르다는 것이다.
DB 서버에서 순차 I/O 작업은 비중이 크지 않고 랜덤 I/O를 통해 작은 데이터를 읽고 쓰는 작업이 대부분이므로 **SSD의 장점은 DBMS용 스토리지에 최적이다.**

## 8.1.2 랜덤 I/O와 순차 I/O

순차 I/O는 3개의 페이지(3 \* 16KB)를 디스크에 기록하기 위해 1번 시스템 콜을 요청했지만, 랜덤 I/O는 3번 시스템 콜을 요청했다.

즉, 순차 I/O는 헤드를 1번 움직였고, 랜덤 I/O는 3번 움직였다.

디스크의 성능은 디스크 헤더의 위치 이동 없이 얼마나 많은 데이터를 한 번에 기록하느냐에 의해 결정된다고 볼 수 있다.

데이터베이스 대부분의 작업은 이러한 작은 데이터를 빈번히 읽고 쓰기 때문에 MySQL 서버에서는 그룹 커밋이나 바이너리 로그 버퍼 또는 InnoDB 로그 버퍼 등의 기능이 내장돼 있다.

쿼리를 튜닝해서 랜덤 I/O를 순차 I/O로 바꿔서 실행할 방법은 그다지 많지 않다.
일반적으로 쿼리를 튜닝하는 것은 랜덤 I/O 자체를 줄여주는 것이 목적이라고 할 수 있다.

즉, 쿼리를 처리하는 데 꼭 필요한 데이터만 읽도록 쿼리를 개선하는 것이다.

> 인덱스 레인지 스캔은 랜덤 I/O, 풀 테이블 스캔은 순차 I/O를 사용
