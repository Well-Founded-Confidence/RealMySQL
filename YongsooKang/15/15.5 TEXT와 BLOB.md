# TEXT와 BLOB
|데이터 타입|필요 저장 공간 (L = 저장하고자 하는 데이터의 바이트 수)|저장 가능한 최대 바이트 수|
|------|---|---|
|TINYTEXT, TINYBLOB|L + 1바이트|$2^8-1(255)$|
|TEXT, BLOB|L + 2바이트|$2^{16} - 1(65535)$|
|MEDIUMTEXT, MEDIUMBLOB|L + 3바이트|$2^{24}-1(16777215)$|
|LONGTEXT, LONGBLOB|L + 4바이트|$2^{32}-1(4294967295)$|

||고정길이|가변길이|대용량|
|------|---|---|---|
|문자 데이터|CHAR|VARCHAR|TEXT|
|이진 데이터|BINARY|VARBINARY|BLOB|

- TEXT, BLOB 타입 모두 주의하고 남용하면 안됨
  - 컬럼 하나에 저장되는 문자열이나 이진 값의 길이가 예측할 수 없이 클 때
  - 일반적으로 하나의 레코드는 전체 크기가 64KB를 넘을 수 없지만 이를 초과할 때
- blob/text 컬럼을 조작하는 sql문의 길이가 많이 길어질 수 있음
  - max_allowed_packet 시스템 변수에 설정된 값보다 큰 sql 문장은 MySQL 서버로 전송되지 못하고 오류가 발생할 수 있음
  - max_allowed_packet 값을 충분히 늘리도록 설정
- MySQL 서버에서 text, blob 컬럼의 값이 어떻게 저장되는지는 테이블의 row_format 옵션을 사용한다.
  - 별도로 지정되지 않으면 innodb_default_for_format 시스템 변수에 저장된 값으로 적용한다.
  - MySQL 8.0에서는 사용 가능한 모든 row_format에서는 가능하다면 text/blob 컬럼의 값을 다른 레코드와 같이 저장하려고 하지만 레코드의 최대 길이가 제한적인 문제가 있음
    - 레코드의 최대 길이를 초과하면 용량이 큰 컬럼 순서대로 외부 페이지로 옮기면서 레코드의 크기를 맞춘다.
