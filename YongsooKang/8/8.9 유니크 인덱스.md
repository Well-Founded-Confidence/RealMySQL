[8.9 유니크 인덱스](#89-유니크-인덱스)
- [8.9.1 유니크 인덱스와 일반 세컨더리 인덱스의 비교](#891-유니크-인덱스와-일반-세컨더리-인덱스의-비교)
    - [8.9.1.1 인덱스 읽기](#8911-인덱스-읽기)
    - [8.9.1.2 인덱스 쓰기](#8912-인덱스-쓰기)
- [8.9.2 유니크 인덱스 사용 시 주의사항](#892-유니크-인덱스-사용-시-주의사항)

# 8.9 유니크 인덱스
- 테이블/인덱스에 같은 값이 2개 이상 저장될 수 없다.
- 유니크는 인덱스라기보다 제약 조건에 가깝다.
- null도 저장될 수 있고, 특정 값이 아니므로 2개 이상이 null은 저장 가능
- MySQL의 PK는 기본적으로 null을 허용하지 않는 유니크 속성이 자동으로 부여된다.

## 8.9.1 유니크 인덱스와 일반 세컨더리 인덱스의 비교
### 8.9.1.1 인덱스 읽기
- 유니크하지 않은 세컨더리 인덱스는 중복된 값이 허용되므로 읽어야 할 레코드가 많아서 느린 것
    - 인덱스 자체의 특성때문에 느린것이 아님
    - 실제 성능 차이는 미미하다.

### 8.9.1.2 인덱스 쓰기
- 유니크 인덱스의 키 값을 쓸 때는 중복된 값이 있는지 확인하는 과정이 필요해서 상대적으로 쓰기 작업이 느리다.
- MySQL에서는 유니크 인덱스에서 중복된 값을 체크할 떄는 읽기 잠금을 사용하고, 쓰기를 할 때는 쓰기 잠금을 사용하는데 이 과정에서 데드락이 아주 빈번히 발생한다.
- InnoDB 스토리지 엔진에는 인덱스 키의 저장을 버퍼링하기 위해 체인지 버퍼가 사용된다.

## 8.9.2 유니크 인덱스 사용 시 주의사항
- MySQL의 유니크 인덱스는 일반 다른 인덱스와 같은 역할을 하므로 중복해서 세컨더리 인덱스를 생성할 필요는 없다.
- 같은 칼럼에 대해 PK, 유니크 인덱스를 생성하는 경우도 불필요한 중복이다.
- 유일성이 꼭 보장돼야 하는 칼럼에 대해서는 유니크 인덱스를 생성하되, 꼭 필요하지 않다면 세컨더리 인덱스를 생성하는 방법도 좋다.
